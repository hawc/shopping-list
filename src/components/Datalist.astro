---
import type { HTMLAttributes } from 'astro/types';
import { translate } from '../utils/trans';
import Input from './Input.astro';

const { items, name, classes, placeholder, type, value } = Astro.props;

interface Props {
  items: (unknown & { name: string })[];
  name: string;
  classes?: string;
  placeholder?: string;
  type?: HTMLAttributes<'input'>['type'];
  value?: HTMLAttributes<'input'>['value'];
}
---

<>
  <Input
    classes={classes}
    list={`${name}-datalist`}
    id={`${name}-datalist-input`}
    name={name}
    placeholder={placeholder}
    type={type}
    value={value}
  />
  <datalist id={`${name}-datalist`}>
    {
      items.map((item) => (
        <option value={item.name}>{translate(item.name)}</option>
      ))
    }
  </datalist>
</>
